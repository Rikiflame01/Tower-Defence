#pragma kernel CSMain

RWStructuredBuffer<float3> vertices;
RWStructuredBuffer<float3> initialPositions;

float time;
float swayAmplitude = 0.1;
float swayFrequency = 1.0;

[numthreads(256, 1, 1)]
void CSMain(uint3 id : SV_DispatchThreadID)
{
    float3 originalPosition = initialPositions[id.x];

    float swayOffset = sin(time * swayFrequency + id.x * 0.1) * swayAmplitude;

    float3 newPosition = originalPosition;
    newPosition.x += swayOffset;

    vertices[id.x] = newPosition;
}
